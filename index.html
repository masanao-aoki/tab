<!DOCTYPE html>
<!-- saved from url=(0046)http://digi-tamaring.org/box_anime/index3.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<link rel="stylesheet" href="./style.css">
<title>タブ切り替え</title>
</head>
<body>
<!-- contents Start -->
<div>
<div id="step">

	<h1>タブ</h1>
	<div id="tab">
		<ul id="tab-select">
			<li><a href="#tabs-1">タブについて</a></li>
			<li><a href="#tabs-2">利用方法</a></li>
		</ul>

		<div id="tabs">
			<div id="tabs-1">
					<h2>タブについて</h2>
				<div class="section">
					<div class="textbox">
						<p>通常のタブ切り替え動作およびURLのハッシュに対応して動作します。</p>
						<p>http://～～～#○○○「#○○○」に対応してタブが表示されます。</p>
						<p>jQuery UI で用意されているタブでは任意のタブを開くようページにアクセスできなかったり、
また別ページから戻った時に強制的に一番最初のタブが開かれてしまうので、自分で見たいタブを再度クリックしなくてはならず、ちょっと使い勝手が悪く感じます。</p>
<p>なので、通常のタブ切り替えとURLのハッシュに対応してタブを開けるタブを作成してみました。</p>
<p>直接開きたいタブへアクセスでき、なおかつ別ページから戻ったときもそのままのタブが表示されます。</p>
					</div>
				</div>
			</div>

			<div id="tabs-2">
				<h2>利用方法</h2>
				<div class="section">
						<h3>HTML部分</h3>
					<div class="textbox">
						<p>head内にて「jquery.ao-tabs.js」を読み込む</p>						
					</div>
				</div>
	</div>
	
</div>


<script type="text/javascript">
var tabBtn = document.querySelectorAll('#tab-select > *');
var tabBody = document.querySelectorAll('#tabs > *');
var hash = location.hash;
console.log(hash);

if(!hash) {
	console.log();
	open(tabBtn[0].childNodes[0].hash);
}
else {
	open(hash);	
}

function close() {
	for (var n = 0; tabBody.length > n; n++) {
		tabBody[n].style.display = 'none';
	}
}

function open(i) {
	var targetTab = document.querySelectorAll(i);
	console.log(targetTab);
	close();
	targetTab[0].style.display = 'block';
//	document.getElementById(i).style.display = 'block';
}

for(var n=0; tabBtn.length > n; n++) {
	tabBtn[n].onclick = function(e){
		console.log(e);
		open(e.target.getAttribute("href"));
	}
}

</script>
</body>
</html>